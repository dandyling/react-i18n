!function(e,t){"use strict";var n="default"in t?t.default:t;const r=(e,t)=>{const n=[];let r;const a=RegExp(e,"g");for(;null!==(r=a.exec(t));)n.push({offsets:[r.index,r.index+r[0].length],array:r});return n},a=(e,t)=>e.match.offsets[0]-t.match.offsets[0],l=(e,t)=>{if(!t.length)return[e];const n=[],l=[];let o=e;if(t.forEach(e=>{r(e.pattern,o).forEach(t=>{const n=Array.from({length:t.array[0].length}).map(()=>" ").join("");o=o.replace(t.array[0],n),l.push({match:t,rule:e})})}),o===e)return[e];o=e;let s=0;return l.sort(a).forEach((e,t)=>{const[r,a]=e.match.offsets,c=o.substring(s,r);if(c&&n.push(c),n.push(e.rule.onMatch(e.match.array)),s=a,t+1===l.length){const e=o.substring(s);e&&n.push(e)}}),n},o={pattern:/(\*\*|__)(.*?)\1/,onMatch:e=>n.createElement("strong",null,e[2])},s={pattern:/(\*|_)(.*?)\1/,onMatch:e=>n.createElement("em",null,e[2])},c={pattern:/~~(.*?)~~/,onMatch:e=>n.createElement("del",null,e[1])},u={pattern:/`(.*?)`/,onMatch:e=>n.createElement("code",null,e[1])},i={pattern:/\[([^\[]+)\]\(([^\)]+)\)/,onMatch:e=>n.createElement("a",{href:e[2]},e[1])},f=[o,s,u,i,c],h=t.createContext(void 0),m=()=>t.useContext(h),d=e=>{const{bundles:r,children:a,markdownRules:l,lang:o}=e,s=m();let c,u,i={},f=[];s&&(i=s.bundle,c=s.lang,u=s.resolveLanguageBundle,f=s.markdownRules);const d=(l||[]).filter(e=>!f.includes(e)).concat(f),[g,p]=t.useState(),w=o||c;if(!w)throw Error("No `lang` prop specified");t.useEffect(()=>{p(void 0)},[e.lang]);const b=t.useCallback(e=>Promise.all([new Promise(t=>{i&&e===c?t(i):u?u(w).then(t):t({})}),new Promise(t=>{r&&r[e]?r[e]().then(t):t({})})]).then(e=>{let t={};return e.forEach(e=>{t=Object.assign(Object.assign({},t),e)}),t}),[w,c,i,r,u]);return t.useEffect(()=>{g||b(w).then(p)},[g,w,i,r,b]),g?n.createElement(h.Provider,{value:{resolveLanguageBundle:b,lang:w,bundle:g,markdownRules:d}},a):null};d.defaultProps={markdownRules:f},e.BoldRule=o,e.DefaultMarkdownRules=f,e.I18NProvider=d,e.InlineCodeRule=u,e.ItalicRule=s,e.LinkRule=i,e.StrikethroughRule=c,e.findRegex=r,e.formatCurrency=(e,t,n={style:"currency"},r)=>new Intl.NumberFormat(r,Object.assign(Object.assign({},n),{currency:t})).format(e),e.formatDate=(e,t,n)=>new Intl.DateTimeFormat(n,t).format(e),e.pluralize=(e,t,n,r)=>{const a=new Intl.PluralRules(r).select(e);switch(a){case"one":return`${e} ${t}`;case"other":return`${e} ${n}`}throw Error(`Unable to match ${a}.`)},e.transform=l,e.useI18N=m,e.withI18N=function(e,r){return t.forwardRef((t,a)=>{const{bundle:o,markdownRules:s}=m();let c=t;if(o&&t[r]){const e=t[r];let n="";if(e.constructor===Array){const[t,...r]=e;o[t]&&(n=o[t](...r))}else n=o[e],n||console.warn("No i18n value found for key: "+e);n&&(n=l(n,s),c=Object.assign(Object.assign({},t),{children:n}))}return n.createElement(e,Object.assign({},c,{ref:a}))})}}({},React);
